<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PredictHealth 🏥</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 960px;
            margin: 20px auto;
            padding: 0 20px;
            background-color: #f9f9f9;
        }
        h1, h2, h3 {
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }
        h1 {
            font-size: 2.5em;
        }
        h2 {
            font-size: 2em;
            margin-top: 40px;
        }
        h3 {
            font-size: 1.5em;
            margin-top: 30px;
        }
        ul, ol {
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
        code {
            background-color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: "Courier New", Courier, monospace;
        }
        pre {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        pre code {
            background: none;
            padding: 0;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-top: 10px;
        }
        .warning {
            background-color: #f8d7da;
            color: #721c24;
            padding: 15px;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
        }
        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
            color: #7f8c8d;
        }
    </style>
</head>
<body>

    <h1>PredictHealth 🏥</h1>
    <p>Una plataforma web para la predicción de riesgos de salud que permite a los usuarios monitorear y predecir riesgos de diabetes e hipertensión basándose en datos médicos y registros diarios.</p>

    <h2>📋 Características</h2>
    <ul>
        <li><strong>Dashboard Interactivo</strong>: Visualización en tiempo real de datos de salud con gráficos dinámicos</li>
        <li><strong>Predicción de Riesgos</strong>: Análisis predictivo para diabetes e hipertensión</li>
        <li><strong>Gestión de Usuarios</strong>: Sistema de autenticación con roles de usuario y administrador</li>
        <li><strong>Historial Médico</strong>: Almacenamiento y seguimiento de datos médicos históricos</li>
        <li><strong>Registros Diarios</strong>: Capacidad de registrar métricas diarias de salud</li>
        <li><strong>Exportación de Datos</strong>: Funcionalidad para exportar reportes en formato JSON</li>
    </ul>

    <h2>🛠️ Stack Tecnológico</h2>
    <h3>Backend</h3>
    <ul>
        <li><strong>Python 3.x</strong></li>
        <li><strong>Flask</strong> - Framework web</li>
        <li><strong>SQLAlchemy</strong> - ORM para base de datos</li>
        <li><strong>PostgreSQL</strong> - Base de datos principal</li>
    </ul>
    <h3>Frontend</h3>
    <ul>
        <li><strong>HTML5/CSS3</strong></li>
        <li><strong>JavaScript (Vanilla)</strong></li>
        <li><strong>Bootstrap 5</strong> - Framework CSS</li>
        <li><strong>Chart.js</strong> - Librería de gráficos</li>
        <li><strong>Tailwind CSS</strong> - Utilidades CSS (para admin dashboard)</li>
    </ul>

    <h2>📁 Estructura del Proyecto</h2>
    <pre><code>predicthealth/
├── app.py # Aplicación principal Flask (skeleton)
├── requirements.txt # Dependencias pip
├── init.sql # Script de inicialización de BD (tablas)
├── stored_procedures.sql # Procedimientos almacenados / funciones SQL
├── data/ # CSVs y datos de carga inicial
│   ├── usuarios.csv
│   ├── datos_historial_medico.csv
│   ├── registros_salud_diario.csv
│   ├── predicciones_riesgo.csv
│   └── datos_wearable.csv
├── templates/
│   ├── log_in.html
│   ├── sign_up.html
│   ├── user_dashboard.html
│   └── admin_dashboard.html
├── static/
│   ├── css/
│   │   └── styles.css
│   ├── js/
│   │   └── app.js
│   └── images/
│       ├── logo.jpg
│       └── background.jpg
└── README.md</code></pre>

    <h2>🚀 Instalación y Configuración</h2>
    <h3>Prerrequisitos</h3>
    <ul>
        <li>Python 3.7+</li>
        <li>PostgreSQL 12+</li>
        <li>pip (gestor de paquetes de Python)</li>
    </ul>

    <h3>Instalación</h3>
    <ol>
        <li><strong>Clonar el repositorio</strong>
            <pre><code>git clone https://github.com/tu-usuario/predicthealth.git
cd predicthealth</code></pre>
        </li>
        <li><strong>Crear entorno virtual</strong>
            <pre><code>python -m venv venv
source venv/bin/activate  # En Windows: venv\Scripts\activate</code></pre>
        </li>
        <li><strong>Instalar dependencias</strong>
            <pre><code>pip install flask flask-sqlalchemy psycopg2-binary</code></pre>
        </li>
        <li><strong>Configurar base de datos PostgreSQL</strong>
            <pre><code># Acceder a PostgreSQL como usuario postgres
sudo -u postgres psql

# Crear base de datos y conectarse
CREATE DATABASE predicthealth_db;
\c predicthealth_db;

# Salir de psql
\q

# Ejecutar script de inicialización
sudo -u postgres psql -d predicthealth_db -f init.sql</code></pre>
        </li>
        <li><strong>Configurar variables de entorno</strong> (opcional)
            <pre><code>export SECRET_KEY="tu_clave_secreta_aqui"
export DB_USER="postgres"
export DB_PASSWORD="tu_password"
export DB_HOST="localhost"
export DB_PORT="5432"
export DB_NAME="predicthealth_db"</code></pre>
        </li>
    </ol>

    <h3>Ejecución</h3>
    <pre><code>python app.py</code></pre>
    <p>La aplicación estará disponible en <code>http://localhost:5000</code></p>

    <h2>📊 Datos de Prueba</h2>
    <p>El proyecto incluye archivos CSV con datos de ejemplo en la carpeta <code>/csv/</code>:</p>
    <ul>
        <li><strong>usuarios.csv</strong>: Datos básicos de usuarios registrados</li>
        <li><strong>datos_historial_medico.csv</strong>: Historial médico de los usuarios</li>
        <li><strong>registros_salud_diario.csv</strong>: Registros diarios de métricas de salud</li>
        <li><strong>predicciones_riesgo.csv</strong>: Resultados de predicciones de riesgo</li>
        <li><strong>datos_wearable.csv</strong>: Datos simulados de dispositivos wearable</li>
    </ul>
    <p>Estos archivos pueden utilizarse para importar datos adicionales o para análisis externos.</p>

    <h2>👥 Usuarios de Prueba</h2>
    <p>El sistema incluye datos de prueba con los siguientes usuarios:</p>
    <h3>Usuario Regular</h3>
    <ul>
        <li><strong>Email</strong>: <code>bryan@example.com</code></li>
        <li><strong>Contraseña</strong>: <code>bryanpass</code></li>
        <li><strong>Rol</strong>: Usuario</li>
    </ul>
    <h3>Usuario Regular</h3>
    <ul>
        <li><strong>Email</strong>: <code>margarita@example.com</code></li>
        <li><strong>Contraseña</strong>: <code>margaritapass</code></li>
        <li><strong>Rol</strong>: Usuario</li>
    </ul>
    <h3>Administrador</h3>
    <ul>
        <li><strong>Email</strong>: <code>mariana@example.com</code></li>
        <li><strong>Contraseña</strong>: <code>marianapass</code></li>
        <li><strong>Rol</strong>: Admin</li>
    </ul>

    <h2>🗄️ Modelo de Base de Datos</h2>
    <h3>Tablas Principales</h3>
    <ol>
        <li><strong>Usuario</strong>: Información básica de usuarios y credenciales</li>
        <li><strong>DatosHistorialMedico</strong>: Historial médico estático del usuario</li>
        <li><strong>RegistroSaludDiario</strong>: Métricas diarias registradas por el usuario</li>
        <li><strong>DatosWearable</strong>: Datos de dispositivos wearable (futuro)</li>
        <li><strong>PrediccionRiesgo</strong>: Resultados de predicciones de IA</li>
    </ol>

    <h2>🔧 API Endpoints</h2>
    <h3>Rutas de Autenticación</h3>
    <ul>
        <li><code>GET /</code> - Redirección al login</li>
        <li><code>GET|POST /log_in</code> - Inicio de sesión</li>
        <li><code>GET|POST /sign_up</code> - Registro de usuarios</li>
        <li><code>GET /logout</code> - Cerrar sesión</li>
    </ul>
    <h3>Dashboards</h3>
    <ul>
        <li><code>GET /user_dashboard</code> - Dashboard del usuario (requiere login)</li>
        <li><code>GET /admin_dashboard</code> - Dashboard del administrador (requiere rol admin)</li>
    </ul>
    <h3>API</h3>
    <ul>
        <li><code>GET /api/dashboard_data</code> - Datos del dashboard en formato JSON</li>
    </ul>

    <h2>🎨 Características de la Interfaz</h2>
    <h3>Dashboard de Usuario</h3>
    <ul>
        <li><strong>KPIs en Tiempo Real</strong>: Visualización de riesgos actuales</li>
        <li><strong>Gráficos Interactivos</strong>:
            <ul>
                <li>Evolución temporal de riesgos</li>
                <li>Distribución de categorías de riesgo</li>
                <li>Medidores (gauges) de riesgo</li>
            </ul>
        </li>
        <li><strong>Tabla de Predicciones</strong>: Historial de predicciones anteriores</li>
        <li><strong>Insights de IA</strong>: Explicaciones y recomendaciones automáticas</li>
        <li><strong>Exportación</strong>: Descarga de datos en formato JSON</li>
    </ul>
    <h3>Dashboard de Administrador</h3>
    <ul>
        <li><strong>Métricas del Sistema</strong>: Usuarios activos, sistemas conectados, alertas</li>
        <li><strong>Gráfico de Actividad</strong>: Seguimiento de la actividad de usuarios</li>
        <li><strong>Gestión de Usuarios</strong>: Tabla con estado de usuarios del sistema</li>
    </ul>

    <h2>⚠️ Consideraciones de Seguridad</h2>
    <div class="warning">
        <p><strong>IMPORTANTE</strong>: Esta es una versión de prototipo que incluye las siguientes vulnerabilidades conocidas:</p>
        <ul>
            <li>❌ Contraseñas almacenadas en texto plano</li>
            <li>❌ Sin validación robusta de entrada</li>
            <li>❌ Sin protección CSRF</li>
            <li>❌ Sin rate limiting</li>
        </ul>
        <p><strong>NO utilizar en producción sin implementar medidas de seguridad apropiadas.</strong></p>
    </div>

    <h2>🔮 Funcionalidades Futuras</h2>
    <ul>
        <li><input type="checkbox" disabled> Integración con dispositivos wearable</li>
        <li><input type="checkbox" disabled> Modelo de IA real para predicciones</li>
        <li><input type="checkbox" disabled> Notificaciones push para alertas críticas</li>
        <li><input type="checkbox" disabled> API REST completa</li>
        <li><input type="checkbox" disabled> Aplicación móvil</li>
        <li><input type="checkbox" disabled> Análisis avanzado de tendencias</li>
        <li><input type="checkbox" disabled> Integración con sistemas de salud existentes</li>
    </ul>

    <h2>🤝 Contribuciones</h2>
    <p>Las contribuciones son bienvenidas. Por favor:</p>
    <ol>
        <li>Fork el proyecto</li>
        <li>Crea una rama para tu feature (<code>git checkout -b feature/AmazingFeature</code>)</li>
        <li>Commit tus cambios (<code>git commit -m 'Add some AmazingFeature'</code>)</li>
        <li>Push a la rama (<code>git push origin feature/AmazingFeature</code>)</li>
        <li>Abre un Pull Request</li>
    </ol>

    <h2>📝 Licencia</h2>
    <p>Este proyecto está bajo la Licencia MIT - ver el archivo <a href="LICENSE.md">LICENSE.md</a> para más detalles.</p>

    <h2>📸 Screenshots</h2>
    <h3>Registro de Usuario</h3>
    <figure>
        <img src="https://github.com/bryramirezp/Portafolio-UDEM/blob/main/Integ_aplicaciones_computacion/primer_avance_proyecto/Creacion_usuario_front.jpg?raw=true" alt="Interfaz de registro de usuario">
        <figcaption><em>Interfaz de registro con diseño limpio y moderno</em></figcaption>
    </figure>

    <h3>Dashboard Principal</h3>
    <figure>
        <img src="https://github.com/bryramirezp/Portafolio-UDEM/blob/main/Integ_aplicaciones_computacion/primer_avance_proyecto/dashboard.jpg?raw=true" alt="Dashboard principal del usuario">
        <figcaption><em>Dashboard interactivo con métricas de salud, gráficos dinámicos y predicciones de riesgo</em></figcaption>
    </figure>

    <h3>Base de Datos</h3>
    <figure>
        <img src="https://github.com/bryramirezp/Portafolio-UDEM/blob/main/Integ_aplicaciones_computacion/primer_avance_proyecto/Creacion_usuario_db.jpg?raw=true" alt="Vista de la base de datos">
        <figcaption><em>Vista de la base de datos PostgreSQL con usuarios registrados</em></figcaption>
    </figure>

    <footer>
        <p>⚕️ <strong>Desarrollado con el objetivo de mejorar el acceso a la información de salud predictiva</strong></p>
    </footer>

</body>
</html>
