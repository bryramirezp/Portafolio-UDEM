<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarea 1: Mapa Conceptual - Modelos de Cloud Computing</title>
    <link rel="stylesheet" href="../../static/css/style.css">
</head>
<body>
    
    <!-- Header Neo Brutalist -->
    <header class="neo-header">
        <div class="neo-header__left">
            <a href="../tareas.html" class="back-btn neo-button neo-button--secondary">
                <span class="back-btn__icon">←</span>
                <span class="back-btn__text">Volver</span>
            </a>
            <!-- El toggle de modo oscuro se agregará automáticamente por JavaScript -->
        </div>
        <div class="neo-header__center">
            <h1 class="neo-header__title">Tarea 1</h1>
            <p class="neo-header__subtitle">Mapa Conceptual: Modelos de Cloud Computing</p>
        </div>
        <div class="neo-header__right">
            <!-- Espacio para elementos adicionales -->
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="neo-container neo-container--spaced">
        <div class="mapa-container">
            <!-- Contenedor del SVG para las líneas -->
            <div class="connector-container">
                <svg id="connector-svg" width="100%" height="100%" class="neo-svg-absolute"></svg>
            </div>

            <!-- Nodo Central -->
            <div class="central-node">
                <div id="central-node" class="central-card">
                    <h2 class="central-title">Modelos de Cloud Computing</h2>
                </div>
            </div>

            <!-- Ramas principales -->
            <div class="modelos-grid">
                
                <!-- IaaS -->
                <div id="iaas" class="mapa-card modelo-iaas">
                    <h3 class="modelo-title">IaaS</h3>
                    <div class="modelo-section">
                        <h4>Definición</h4>
                        <p>Provee infraestructura de TI virtualizada (servidores, almacenamiento, redes) bajo demanda.</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Nivel de Control</h4>
                        <div class="control-bar">
                            <div class="control-fill control-iaas"></div>
                        </div>
                        <p class="control-label control-label--iaas">Alto</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Ejemplos</h4>
                        <ul class="ejemplos-list">
                            <li>AWS EC2</li>
                            <li>Google Compute Engine</li>
                            <li>Azure Virtual Machines</li>
                        </ul>
                    </div>
                </div>

                <!-- PaaS -->
                <div id="paas" class="mapa-card modelo-paas">
                    <h3 class="modelo-title">PaaS</h3>
                    <div class="modelo-section">
                        <h4>Definición</h4>
                        <p>Ofrece una plataforma para desarrollar, desplegar y gestionar apps sin preocuparse por la infraestructura.</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Nivel de Control</h4>
                        <div class="control-bar">
                            <div class="control-fill control-paas"></div>
                        </div>
                        <p class="control-label control-label--paas">Medio</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Ejemplos</h4>
                        <ul class="ejemplos-list">
                            <li>Heroku</li>
                            <li>AWS Elastic Beanstalk</li>
                            <li>Google App Engine</li>
                        </ul>
                    </div>
                </div>

                <!-- SaaS -->
                <div id="saas" class="mapa-card modelo-saas">
                    <h3 class="modelo-title">SaaS</h3>
                    <div class="modelo-section">
                        <h4>Definición</h4>
                        <p>Entrega software listo para usar a través de internet, generalmente bajo suscripción.</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Nivel de Control</h4>
                        <div class="control-bar">
                            <div class="control-fill control-saas"></div>
                        </div>
                        <p class="control-label control-label--saas">Bajo</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Ejemplos</h4>
                        <ul class="ejemplos-list">
                            <li>Google Docs</li>
                            <li>Salesforce</li>
                            <li>Microsoft 365</li>
                        </ul>
                    </div>
                </div>

                <!-- FaaS -->
                <div id="faas" class="mapa-card modelo-faas">
                    <h3 class="modelo-title">FaaS</h3>
                    <div class="modelo-section">
                        <h4>Definición</h4>
                        <p>Modelo "serverless" que ejecuta funciones de código en respuesta a eventos, sin gestionar servidores.</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Nivel de Control</h4>
                        <div class="control-bar">
                            <div class="control-fill control-faas"></div>
                        </div>
                        <p class="control-label control-label--faas">Bajo (enfocado en código)</p>
                    </div>
                    <div class="modelo-section">
                        <h4>Ejemplos</h4>
                        <ul class="ejemplos-list">
                            <li>AWS Lambda</li>
                            <li>Google Cloud Functions</li>
                            <li>Azure Functions</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="../../static/js/app.js"></script>
    <script>
        // Dibuja las líneas de conexión desde el nodo central a cada rama
        function drawConnectors() {
            const svg = document.getElementById('connector-svg');
            const centralNode = document.getElementById('central-node');
            const branches = ['iaas', 'paas', 'saas', 'faas'];
            
            // Limpiar SVG anterior
            svg.innerHTML = '';

            const centralRect = centralNode.getBoundingClientRect();
            const containerRect = svg.parentElement.getBoundingClientRect();

            // Punto de origen (parte inferior del nodo central)
            const startX = centralRect.left + centralRect.width / 2 - containerRect.left;
            const startY = centralRect.bottom - containerRect.top;

            branches.forEach(id => {
                const branchEl = document.getElementById(id);
                if (branchEl) {
                    const branchRect = branchEl.getBoundingClientRect();
                    // Punto de destino (parte superior de cada rama)
                    const endX = branchRect.left + branchRect.width / 2 - containerRect.left;
                    const endY = branchRect.top - containerRect.top;

                    // Crear la línea con una curva suave (path SVG)
                    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    const d = `M ${startX} ${startY} C ${startX} ${startY + 60}, ${endX} ${endY - 60}, ${endX} ${endY}`;
                    path.setAttribute('d', d);
                    path.setAttribute('stroke', 'var(--neo-yellow)');
                    path.setAttribute('stroke-width', '3');
                    path.setAttribute('fill', 'none');
                    path.setAttribute('opacity', '0.6');
                    svg.appendChild(path);
                }
            });
        }

        // Volver a dibujar las líneas cuando la ventana cambie de tamaño
        window.addEventListener('resize', drawConnectors);
        // Dibujar al cargar la página
        window.addEventListener('load', drawConnectors);
    </script>

</body>
</html>